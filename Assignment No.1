#include <stdio.h>
#include<stdlib.h>
struct student
{
    char name[20];
    int rollno;
};

int main()
{
    struct student s[20];
    int i,p,n,ch,choice;
   printf("Enter no of student:\n");
   scanf("%d",&n);
   if(n>20 || n<1)
   {
    printf("Invalid number of students.\n");
    return 1;
   }
   for(i=0;i<n;i++)
   {
       printf("Name of student:\n");
       scanf("%s",s[i].name);
       printf("Roll no:\n");
       scanf("%d",&s[i].rollno);
   }
   do{
       printf("Enter your choice,1.insertion\n2.deletion\n3.modification\n4.display\n5.exist\n");
       scanf("%d",&ch);
       switch(ch)
       {
           case 1:if(n>=20)
           {
            printf("Insertion not possible,list is full.\n");
            break;
           }
           printf("Enter position at which you want to insert new info:\n");
                scanf("%d",&p);
                if(p<0 || p>n)
                {
                    printf("invalid position\n");
                    break;
                }
                for(i=n-1;i>=p;i--)
                {
                    s[i+1]=s[i];
                }
                printf("Please enter name:\n");
                scanf("%s",s[p].name);
                printf("Please enter roll no:\n");
                scanf("%d",&s[p].rollno);
                n=n+1;
                break;
                
            case 2:printf("At which position you want to delete a info:\n");
            scanf("%d",&p);
            if(p<0 || p>=n)
                {
                  printf("invalid position.\n");
                  break;
                }
            for(i=p;i<n-1;i++)
            {
                s[i]=s[i+1];
            }
            n=n-1;
            break;
            
        case 3:printf("At which position you want to modify the info:\n");
        scanf("%d",&p);
        if(p<0 || p>n)
                {
                    printf("invalid position\n");
                    break;
                }
        printf("Name of student:\n");
        scanf("%s",s[p].name);
        printf("Roll no:\n");
        scanf("%d",&s[p].rollno);
        break;
        
        case 4:printf("\nstudent records:\n");
        for(i=0;i<n;i++)
        {
            printf("Student %d\n",i+1);
            printf("Name is: %s\n",s[i].name);
            printf("Roll no:%d\n",s[i].rollno);
            
            
        }
        break;
        
        case 5:exit(0);
           break;

        default:
          printf("invalid choice,please try again.\n");
       }
       printf("Do u want to go again into menu(1/0)");
       scanf("%d",&choice);
       }while(choice==1);

       return 0;
       }
